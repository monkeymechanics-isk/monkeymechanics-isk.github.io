<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monkey Mechanics</title>
  <link href="https://fonts.googleapis.com/css2?family=Happy+Monkey&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #f5fff5;
      font-family: 'Happy Monkey', sans-serif;
      text-align: center;
    }

    img {
      width: 100%;
      height: 85vh;
      object-fit: cover;
      display: block;
    }

    h1 {
      margin-top: 20px;
      font-size: 4em;
      color: #ff3333;
      font-weight: bold;
      text-shadow: 3px 3px 0px yellow;
    }

    p {
      font-size: 2.2em;
      color: #0077ff;
      font-weight: bold;
      margin: 30px;
    }

    button {
      font-family: 'Happy Monkey', sans-serif;
      font-size: 1.8em;
      background-color: #FFD600;
      color: #D61C4E;
      border: none;
      padding: 15px 45px;
      border-radius: 30px;
      cursor: pointer;
      transition: transform 0.2s ease, background-color 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    button:hover {
      background-color: #FFEC80;
      transform: rotate(-3deg) scale(1.05);
    }

    .form-popup {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.8);
      background-color: #fffbea;
      border: 4px solid #FFD600;
      border-radius: 25px;
      z-index: 9;
      padding: 25px;
      width: 80%;
      max-width: 400px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      animation: popIn 0.3s ease forwards;
    }

    @keyframes popIn {
      from { transform: translate(-50%, -50%) scale(0.8); opacity: 0; }
      to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
    }

    .form-popup h2 {
      color: #D61C4E;
      font-size: 2em;
      margin-bottom: 10px;
    }

    .form-popup input, .form-popup textarea {
      width: 90%;
      padding: 10px;
      margin: 10px 0;
      border: 2px solid #FFD600;
      border-radius: 10px;
      font-size: 1em;
      font-family: 'Happy Monkey', sans-serif;
    }

    .form-popup button {
      background-color: #D61C4E;
      color: white;
      font-size: 1.2em;
      border-radius: 15px;
      margin-top: 10px;
      padding: 10px 25px;
      transition: transform 0.2s ease;
    }

    .form-popup button:hover {
      transform: scale(1.1);
    }

    .close-btn {
      background-color: gray;
      margin-left: 10px;
    }

    /* Success message */
    .success-message {
      color: green;
      font-size: 1.4em;
      margin-top: 10px;
      display: none;
    }
  </style>
</head>
<body>
  <img src="logo.png" alt="Monkey Mechanics student repair service logo">
  <h1>Welcome to Monkey Mechanics! üçå</h1>
  <p>Hello Monkeys! Monkey Mechanics is an ISK student-led repair service. We fix toys, gadgets, and even do some woodworking! 
     You can get your items repaired for free ‚Äî almost. We accept payment in the form of whatever you have! 
     Popular choices include candy, stationery, and other small items (but no food, please).</p>

  <button onclick="openForm()">üêí Request a Repair!</button>

  <div class="form-popup" id="repairForm">
    <h2>Repair Request Form</h2>
    <form id="contactForm" action="https://api.web3forms.com/submit" method="POST">
      <input type="hidden" name="access_key" value="25475670-0efd-4b28-8fea-bb6e0c880aa7">
      <input type="hidden" name="recipient" value="monkeymechanicsmain@gmail.com">
      <input type="hidden" name="from_name" value="Monkey Mechanics Website">
      <input type="hidden" name="subject" value="New Repair Request!">

      <input type="text" name="name" placeholder="Your Name" required><br>
      <input type="email" name="email" placeholder="Your Email" required><br>
      <textarea name="message" rows="4" placeholder="Describe the item and issue..." required></textarea><br>

      <button type="submit">Send Request üçå</button>
      <button type="button" class="close-btn" onclick="closeForm()">Close</button>
    </form>
    <div class="success-message" id="successMsg">‚úÖ Thanks! We got your repair request!</div>
  </div>

  <script>
    const form = document.getElementById("contactForm");
    const successMsg = document.getElementById("successMsg");

    form.addEventListener("submit", async function (e) {
      e.preventDefault();

      const formData = new FormData(form);
      const response = await fetch(form.action, {
        method: form.method,
        body: formData
      });

      if (response.ok) {
        form.reset(); // clear the form
        successMsg.style.display = "block"; // show success message

        setTimeout(() => {
          successMsg.style.display = "none";
          closeForm(); // close popup
        }, 2500); // hide after 2.5s
      } else {
        alert("Oops! Something went wrong. Please try again.");
      }
    });

    function openForm() {
      const formPopup = document.getElementById("repairForm");
      formPopup.style.display = "block";
      formPopup.style.animation = "popIn 0.3s ease forwards";
    }

    function closeForm() {
      document.getElementById("repairForm").style.display = "none";
    }
  </script>
</body>
</html>
